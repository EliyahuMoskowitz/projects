(this["webpackJsonpstock-ticker"]=this["webpackJsonpstock-ticker"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),s=n(18),o=n.n(s),i=(n(25),n(26),n(11)),u=n(2);var j=function(){return Object(c.jsx)("header",{className:"App-header",children:Object(c.jsx)("h1",{children:" Stock-Ticker "})})},l=n(7),p=n.n(l),b=n(10),h=n(8);n(28);var f,m=function(){var e=Object(r.useState)(""),t=Object(h.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([]),o=Object(h.a)(s,2),u=o[0],j=o[1];return function(){var e=Object(b.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!u.length>0)){e.next=16;break}return e.prev=1,e.next=4,fetch("https://api-v2.intrinio.com/companies?has_stock_prices=true&api_key=".concat("OmZjY2QyNmJjMzBmYzE0YTk0YmE3NjJhNjAyYTExNmUy"));case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("Woops! Something went wrong :( ".concat(t.status,": ").concat(t.statusText));case 7:return e.next=9,t.json();case 9:n=e.sent,j(n.companies),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.info(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}()(),Object(c.jsxs)("aside",{children:[Object(c.jsxs)("label",{id:"enterSymbol",children:["Enter Stock-Ticker Symbol",Object(c.jsx)("input",{id:"symbolInput",list:"comp",placeholder:"click to see list of companies",value:n,onChange:function(e){var t=e.target;return a(t.value)}})]}),Object(c.jsx)("datalist",{id:"comp",children:u.map((function(e){return Object(c.jsx)("option",{value:e.ticker},e.id)}))}),Object(c.jsx)(i.b,{to:"/stock/".concat(n),children:"UPDATE"})]})};var x=function(e){var t=e.symbol,n=e.isDesc,a="OmZjY2QyNmJjMzBmYzE0YTk0YmE3NjJhNjAyYTExNmUy",s=Object(r.useState)({}),o=Object(h.a)(s,2),i=o[0],u=o[1];Object(r.useEffect)((function(){function e(){return n.apply(this,arguments)}function n(){return(n=Object(b.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}return e.prev=1,e.next=4,fetch("https://api-v2.intrinio.com/securities/".concat(t,"/prices/realtime?api_key=").concat(a));case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Woops! Something went wrong :( ".concat(n.status,": ").concat(n.statusText));case 7:return e.next=9,n.json();case 9:c=e.sent,u(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.info(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}e(),f&&clearInterval(f),f=setInterval((function(){console.log("calling ... "),e()}),5e3)}),[t]);var j=i.last_price,l=i.open_price,m=(new Date).toLocaleDateString(),x=(new Date).toLocaleTimeString(),d=l>=j?"\u2191":"\u2193",O=l>=j?"green":"red",k=n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("span",{style:{color:O},children:["$",l||j,d]}),Object(c.jsxs)("span",{children:[" \xa0 Last Updated: ",m," \xa0 ",x]})]}):"Unable to access this company's stock-info at the moment. Please try again later.";return Object(c.jsxs)("h2",{children:[" ",k," "]})};n(34);var d=function(){var e=Object(r.useState)({}),t=Object(h.a)(e,2),n=t[0],a=t[1],s=Object(u.e)().symbol;Object(r.useEffect)((function(){!function(){var e=Object(b.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=16;break}return e.prev=1,e.next=4,fetch("https://api-v2.intrinio.com/companies/".concat(s,"?api_key=").concat("OmZjY2QyNmJjMzBmYzE0YTk0YmE3NjJhNjAyYTExNmUy"));case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("Woops! Something went wrong :( ".concat(t.status,": ").concat(t.statusText));case 7:return e.next=9,t.json();case 9:n=e.sent,a(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.info(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}()()}),[s]);var o=n.ticker,i=n.name,j=n.short_description;return Object(c.jsxs)("div",{id:"compInfo",children:[Object(c.jsxs)("h1",{children:[o," - ",i]}),Object(c.jsx)("p",{children:j}),Object(c.jsx)(x,{symbol:s,isDesc:!!j})]})};var O=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(j,{}),Object(c.jsxs)(i.a,{children:[Object(c.jsx)(m,{}),Object(c.jsx)(u.a,{path:"/stock/:symbol",children:Object(c.jsx)(d,{})})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(O,{})}),document.getElementById("root")),k()}},[[35,1,2]]]);
//# sourceMappingURL=main.76c80689.chunk.js.map